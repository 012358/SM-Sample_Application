<div class="main-container">
  <div class="other_containers">
    <br><br>
    <%= link_to "#{semantic_icon('unhide')}  View All Calendars".html_safe, calendars_path, class: "ui button mini" %>
    <div style="margin: 1px 0 0 350px;">
        <div class="ui form">

            <%= form_for(@calendar, url:{action:  @calendar.new_record? ? :create : :update}) do |f| %>
              <% if @calendar.errors.any? %>
                <div id="error_explanation">
                  <h2><%= pluralize(@calendar.errors.count, "error") %> prohibited this calendar from being saved:</h2>

                  <ul>
                  <% @calendar.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                  <% end %>
                  </ul>
                </div>
              <% end %>

                  <!-- CURRENT USER -->
                  <%= f.hidden_field :user_id, value: current_user.id %>

              <div class="two fields">
                  <div class="field">
                    <%= f.text_field :name, placeholder: 'Calendar Name' %>
                  </div>
                  <div class="field">
                    <%= f.text_field :color, placeholder: 'Calendar Color', class: "custom" %>
                  </div>
               </div>
              <div class="actions">
                <%= f.submit f.object.new_record? ? 'Create' : 'Update', class: 'ui blue mini submit button ok'%>
                <%= link_to 'Cancel', url_for(:back), class: 'ui mini black button' %>
              </div>

            <% end %>

        </div>
    </div>
  </div>
</div>



<script>
    $(".custom").spectrum({
        showPaletteOnly: true,
        togglePaletteOnly: true,
        palette: [
            ["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],
            ["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],
            ["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],
            ["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],
            ["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],
            ["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],
            ["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],
            ["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]
        ]
    });
</script>